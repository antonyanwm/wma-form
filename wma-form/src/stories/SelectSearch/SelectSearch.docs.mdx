import { Meta, Canvas, Story, ArgsTable } from '@storybook/blocks';
import * as SelectSearchStories from './SelectSearch.stories';

<Meta of={SelectSearchStories} />

# SelectSearch - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ–ª–µ–∫—Ç–∞ —Å –ø–æ–∏—Å–∫–æ–º

## üéØ –û–±–∑–æ—Ä

`SelectSearch` - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ–ª–µ–∫—Ç–∞ —Å –ø–æ–∏—Å–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤—ã–ø–∞–¥–∞—é—â–∏–º–∏ —Å–ø–∏—Å–∫–∞–º–∏ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.

### ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   üîç **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–ø—Ü–∏–π –ø–æ –≤–≤–µ–¥–µ–Ω–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π debounce
-   üéØ **–î–≤–∞ —Ä–µ–∂–∏–º–∞ –≤—ã–±–æ—Ä–∞** - –æ–¥–∏–Ω–æ—á–Ω—ã–π –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
-   ‚ö° **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –æ—Ç–º–µ–Ω–æ–π –∑–∞–ø—Ä–æ—Å–æ–≤
-   üéõÔ∏è **–í–Ω–µ—à–Ω–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –ø–æ–ª–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ API —Ö—É–∫–∏
-   üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –∏ —Ä–∞–∑–º–µ—Ä–∞—Ö —ç–∫—Ä–∞–Ω–∞
-   üé® **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å—Ç–∏–ª–∏ —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
-   ‚å®Ô∏è **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (a11y)
-   üè∑Ô∏è **–£–º–Ω—ã–µ —Ç–µ–≥–∏** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å overflow –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏–º–ø–æ—Ä—Ç

```tsx
import { SelectSearch, Form } from 'wma-form';
import 'wma-form/dist/index.css'; // –ù–µ –∑–∞–±—É–¥—å—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
import { SelectSearch, Form } from 'wma-form';

const options = [
	{ label: 'JavaScript', value: 'js' },
	{ label: 'TypeScript', value: 'ts' },
	{ label: 'Python', value: 'py' },
];

function App() {
	return (
		<Form
			formId='my-form'
			onValidSubmit={(data) => console.log(data)}>
			<SelectSearch
				formId='my-form'
				name='language'
				label='–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è'
				options={options}
				required={true}
			/>
		</Form>
	);
}
```

## üìö API Reference

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–ø—Å—ã

<ArgsTable of={SelectSearchStories.Basic} />

### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

```tsx
interface Option {
	label: string; // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç
	value: string | number; // –ó–Ω–∞—á–µ–Ω–∏–µ –æ–ø—Ü–∏–∏
	[key: string]: any; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
}

interface SelectSearchProps {
	// –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–ø—Å—ã
	formId: string; // ID —Ñ–æ—Ä–º—ã (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å Form)
	name: string; // –ò–º—è –ø–æ–ª—è
	label: string; // –ü–æ–¥–ø–∏—Å—å –ø–æ–ª—è

	// –î–∞–Ω–Ω—ã–µ
	options?: Option[]; // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ü–∏–∏
	loadOptions?: (input: string) => Promise<Option[]>; // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

	// –ü–æ–≤–µ–¥–µ–Ω–∏–µ
	multiple?: boolean; // –†–µ–∂–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
	placeholder?: boolean | string; // –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä
	required?: boolean; // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
	disabled?: boolean; // –û—Ç–∫–ª—é—á–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

	// –í–∞–ª–∏–¥–∞—Ü–∏—è
	validator?: ({ value, name, opts }: { value: string; name?: string; opts?: any }) => string;

	// –ù–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
	initialValue?: string | string[];

	// UI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
	className?: string; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã
	icon?: string; // –ò–∫–æ–Ω–∫–∞ –¥–ª—è –ø–æ–ª—è
	visibleCount?: number; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–∏–º—ã—Ö –æ–ø—Ü–∏–π
	hideInput?: boolean; // –°–∫—Ä—ã—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞
	debounceMs?: number; // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ–∏—Å–∫–∞ (–º—Å)
	hideErrorOnFocus?: boolean; // –°–∫—Ä—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ

	// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
	maxVisibleItems?: number; // –ú–∞–∫—Å. –≤–∏–¥–∏–º—ã—Ö —Ç–µ–≥–æ–≤
	allowBackspaceDelete?: boolean; // –£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Backspace
	hideSelectedFromDropdown?: boolean; // –°–∫—Ä—ã—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∏–∑ –¥—Ä–æ–ø–¥–∞—É–Ω–∞
	hideClearButton?: boolean; // –°–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏
}
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü—Ä–æ—Å—Ç–æ–π —Å–µ–ª–µ–∫—Ç

<Canvas of={SelectSearchStories.Basic} />

### 2. –í–Ω–µ—à–Ω–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

<Canvas of={SelectSearchStories.ExternalControl} />

## üé£ –•—É–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### useSelectExternalControl

–û—Å–Ω–æ–≤–Ω–æ–π —Ö—É–∫ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º:

```tsx
import { useSelectExternalControl } from 'wma-form';

function MyComponent() {
	const {
		// –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
		selectByValue, // –í—ã–±—Ä–∞—Ç—å –æ–ø—Ü–∏—é –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é
		clearAll, // –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
		openDropdown, // –û—Ç–∫—Ä—ã—Ç—å –¥—Ä–æ–ø–¥–∞—É–Ω
		closeDropdown, // –ó–∞–∫—Ä—ã—Ç—å –¥—Ä–æ–ø–¥–∞—É–Ω
		setSearchQuery, // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å

		// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
		getSelectedValues, // –ü–æ–ª—É—á–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
		getSelectedCount, // –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö
		hasSelectedValues, // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
		getFieldState, // –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è
		isOptionSelected, // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—ã–±—Ä–∞–Ω–∞ –ª–∏ –æ–ø—Ü–∏—è

		// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º
		focusField, // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ
		blurField, // –£–±—Ä–∞—Ç—å —Ñ–æ–∫—É—Å —Å –ø–æ–ª—è

		// –í–∞–ª–∏–¥–∞—Ü–∏—è
		validateField, // –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–µ
		markAsTouched, // –û—Ç–º–µ—Ç–∏—Ç—å –ø–æ–ª–µ –∫–∞–∫ touched

		// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
		selectMultiple, // –í—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø—Ü–∏–π
		removeOption, // –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –æ–ø—Ü–∏—é
		getCurrentQuery, // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
		isDropdownOpen, // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ—Ç–∫—Ä—ã—Ç –ª–∏ –¥—Ä–æ–ø–¥–∞—É–Ω
	} = useSelectExternalControl({
		formId: 'my-form',
		name: 'my-select',
		multiple: false,
		options: myOptions,
	});

	return (
		<div>
			<SelectSearch
				formId='my-form'
				name='my-select'
				label='My Select'
				options={myOptions}
			/>

			<button onClick={() => selectByValue('js')}>–í—ã–±—Ä–∞—Ç—å JavaScript</button>
			<button onClick={() => clearAll()}>–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
		</div>
	);
}
```

### –î—Ä—É–≥–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ö—É–∫–∏

```tsx
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ–ª—è
import { useSelectStoreField } from 'wma-form';

// –ó–∞–≥—Ä—É–∑–∫–∞ –æ–ø—Ü–∏–π —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
import { useOptionsLoader } from 'wma-form';

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—Ä–æ–ø–¥–∞—É–Ω–æ–º
import { useDropdownManager } from 'wma-form';

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
import { useSelectHandlers } from 'wma-form';

// –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥—Ä–æ–ø–¥–∞—É–Ω–∞
import { useDropdownPosition } from 'wma-form';

// –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y)
import { useSelectAccessibility } from 'wma-form';
```

## üîÑ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```tsx
const loadOptions = async (query: string) => {
	// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Loading..." –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞
	const response = await fetch(`/api/search?q=${encodeURIComponent(query)}`);
	const data = await response.json();

	return data.map((item) => ({
		label: item.name,
		value: item.id,
	}));
};

<SelectSearch
	formId='form'
	name='users'
	label='–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π'
	loadOptions={loadOptions}
	debounceMs={300} // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
	visibleCount={10} // –ú–∞–∫—Å–∏–º—É–º –æ–ø—Ü–∏–π –≤ –¥—Ä–æ–ø–¥–∞—É–Ω–µ
/>;
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

```tsx
// –ü–æ–∏—Å–∫ —Å –æ—Ç–º–µ–Ω–æ–π –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
let currentController: AbortController | null = null;

const loadOptions = async (query: string) => {
	// –û—Ç–º–µ–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–∞–ø—Ä–æ—Å
	if (currentController) {
		currentController.abort();
	}

	currentController = new AbortController();

	try {
		const response = await fetch(`/api/search?q=${query}`, {
			signal: currentController.signal,
		});

		const data = await response.json();
		return data;
	} catch (error) {
		if (error.name === 'AbortError') {
			return []; // –ó–∞–ø—Ä–æ—Å –æ—Ç–º–µ–Ω–µ–Ω
		}
		throw error;
	}
};

// –ü–æ–∏—Å–∫ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
const cache = new Map();

const loadOptions = async (query: string) => {
	if (cache.has(query)) {
		return cache.get(query);
	}

	const response = await fetch(`/api/search?q=${query}`);
	const data = await response.json();

	cache.set(query, data);
	return data;
};
```

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª–Ω–æ–π –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏:

```css
:root {
	/* –¶–≤–µ—Ç–∞ –¥—Ä–æ–ø–¥–∞—É–Ω–∞ */
	--background-color-select-search-dropdown: #ffffff;
	--border-color-select-search-dropdown: #e0e0e0;
	--color-select-search-dropdown-option: #333333;
	--color-select-search-dropdown-option-selected: #1976d2;
	--color-select-search-dropdown-option-active: #f5f5f5;

	/* –¶–≤–µ—Ç–∞ —Ç–µ–≥–æ–≤ */
	--background-color-select-search-dropdown-tag: #1976d2;
	--color-select-search-dropdown-tag: #ffffff;
	--background-color-select-search-dropdown-tag-placeholder: #f5f5f5;

	/* –†–∞–∑–º–µ—Ä—ã –∏ –æ—Ç—Å—Ç—É–ø—ã */
	--font-size-option: 14px;
	--font-size-tag: 14px;
	--radius-select-search-dropdown: 8px;
	--padding-select-search-dropdown-item-option-TB: 12px;
	--padding-select-search-dropdown-item-option-LR: 16px;

	/* –ê–Ω–∏–º–∞—Ü–∏–∏ */
	--transition-select-search-dropdown: 0.2s ease;
}
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏

```css
/* –ö–∞—Å—Ç–æ–º–Ω—ã–π –¥—Ä–æ–ø–¥–∞—É–Ω */
.my-custom-select .dropdown {
	border-radius: 12px;
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
	border: 2px solid #e3f2fd;
}

/* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ç–µ–≥–∏ */
.my-custom-select .selected-tag {
	background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
	color: white;
	border: none;
}

/* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏ */
.my-custom-select .dropdown-option {
	transition: all 0.2s ease;
}

.my-custom-select .dropdown-option:hover {
	background-color: #f0f8ff;
	transform: translateX(4px);
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* –ö–∞—Å—Ç–æ–º–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ */
.my-custom-select .dropdown-loading::before {
	border-color: #ff6b6b;
	border-top-color: #4ecdc4;
}
```

## ‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é:

-   **Arrow Down/Up** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –æ–ø—Ü–∏—è–º
-   **Enter** - –≤—ã–±–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ–π –æ–ø—Ü–∏–∏
-   **Escape** - –∑–∞–∫—Ä—ã—Ç–∏–µ –¥—Ä–æ–ø–¥–∞—É–Ω–∞
-   **Tab** - –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
-   **Backspace** - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (–≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ)

## üèÜ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```tsx
// ‚úÖ –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –æ–ø—Ü–∏–π
const memoizedOptions = useMemo(
	() =>
		users.map((user) => ({
			label: user.name,
			value: user.id,
		})),
	[users]
);

// ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è debounce
<SelectSearch
	loadOptions={searchUsers}
	debounceMs={300} // –ù–µ —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ, –Ω–µ —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ
/>;
```

### 2. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

```tsx
// ‚úÖ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –ª–µ–π–±–ª—ã
<SelectSearch
	label='–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è'
	name='country'
	required={true}
/>;

// ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
const validator = ({ value }) => {
	if (!value) return '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É';
	return '';
};
```

### 3. UX

```tsx
// ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã
<SelectSearch
  placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞..."
  multiple={false}
/>

// ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–∏–¥–∏–º—ã—Ö –æ–ø—Ü–∏–π –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
<SelectSearch
  visibleCount={10}
  loadOptions={searchCities}
/>

// ‚úÖ –°–∫—Ä—ã—Ç–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –≤—ã–±–æ—Ä–µ
<SelectSearch
  multiple={true}
  hideSelectedFromDropdown={true}
  maxVisibleItems={3}
/>
```

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```tsx
const loadOptions = async (query: string) => {
	try {
		const response = await fetch(`/api/search?q=${query}`);
		if (!response.ok) {
			throw new Error(`HTTP ${response.status}`);
		}
		return await response.json();
	} catch (error) {
		console.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞:', error);
		return []; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ
	}
};
```

## üêõ Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### –î—Ä–æ–ø–¥–∞—É–Ω –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

```tsx
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —É–∫–∞–∑–∞–Ω formId
<SelectSearch name="select" label="Select" />

// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –£–∫–∞–∑–∞—Ç—å formId
<SelectSearch formId="my-form" name="select" label="Select" />
```

#### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```tsx
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: required={false}
<SelectSearch
  formId="form"
  name="select"
  label="Select"
  validator={validator}
  required={false} // –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
/>

// ‚úÖ –†–µ—à–µ–Ω–∏–µ: required={true}
<SelectSearch
  formId="form"
  name="select"
  label="Select"
  validator={validator}
  required={true}
/>
```

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```tsx
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞
const loadOptions = (query) => {
	return fetch(`/api/search?q=${query}`); // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise<Response>
};

// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞
const loadOptions = async (query: string) => {
	const response = await fetch(`/api/search?q=${query}`);
	const data = await response.json();
	return data.map((item) => ({
		label: item.name,
		value: item.id,
	}));
};
```

## üìù Changelog

### v1.0.0

-   –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑
-   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
-   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
-   –í–Ω–µ—à–Ω–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ö—É–∫–∏
-   –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (a11y)
-   –ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—ã–µ —Å—Ç–∏–ª–∏ —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
-   –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
-   –£–º–Ω—ã–µ —Ç–µ–≥–∏ —Å overflow

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª [Troubleshooting](#troubleshooting)
2. –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ Stories
3. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
