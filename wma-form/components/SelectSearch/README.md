# SelectSearch - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ–ª–µ–∫—Ç–∞ —Å –ø–æ–∏—Å–∫–æ–º

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

-   [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
-   [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
-   [–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–±–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
-   [API Reference](#api-reference)
-   [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
-   [–•—É–∫–∏](#—Ö—É–∫–∏)
-   [–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è](#—Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è)
-   [–¢–∏–ø—ã](#—Ç–∏–ø—ã)
-   [–í–Ω–µ—à–Ω–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ](#–≤–Ω–µ—à–Ω–µ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
-   [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)
-   [Troubleshooting](#troubleshooting)

## üéØ –û–±–∑–æ—Ä

`SelectSearch` - —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ–ª–µ–∫—Ç–∞ —Å –ø–æ–∏—Å–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

-   üîç **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –æ–ø—Ü–∏–π –ø–æ –≤–≤–µ–¥–µ–Ω–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É
-   üéØ **–û–¥–∏–Ω–æ—á–Ω—ã–π –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
-   ‚ö° **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –¥–∞–Ω–Ω—ã—Ö —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
-   üéõÔ∏è **–í–Ω–µ—à–Ω–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** —á–µ—Ä–µ–∑ API —Ö—É–∫–∏
-   üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y)
-   üé® **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è** —Å—Ç–∏–ª–µ–π –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è
-   ‚å®Ô∏è **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** (—Å—Ç—Ä–µ–ª–∫–∏, Enter, Escape, Tab)
-   üè∑Ô∏è **–¢–µ–≥–∏** –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Å overflow

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install wma-form
```

```tsx
import { SelectSearch, Form } from 'wma-form';
```

## üöÄ –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å—Ç–æ–π —Å–µ–ª–µ–∫—Ç

```tsx
import { SelectSearch, Form } from 'wma-form';

const options = [
	{ label: 'JavaScript', value: 'js' },
	{ label: 'TypeScript', value: 'ts' },
	{ label: 'Python', value: 'py' },
];

function App() {
	return (
		<Form
			formId='my-form'
			onValidSubmit={(data) => console.log(data)}>
			<SelectSearch
				formId='my-form'
				name='language'
				label='–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è'
				options={options}
				required={true}
			/>
		</Form>
	);
}
```

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä

```tsx
<SelectSearch
	formId='my-form'
	name='languages'
	label='–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è'
	options={options}
	multiple={true}
	maxVisibleItems={3}
	allowBackspaceDelete={true}
	hideSelectedFromDropdown={true}
/>
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

```tsx
const loadOptions = async (query: string) => {
	const response = await fetch(`/api/search?q=${query}`);
	const data = await response.json();
	return data.map((item) => ({
		label: item.name,
		value: item.id,
	}));
};

<SelectSearch
	formId='my-form'
	name='users'
	label='–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π'
	loadOptions={loadOptions}
	debounceMs={300}
	visibleCount={10}
/>;
```

## üìö API Reference

### Props

| Prop                       | –¢–∏–ø                                    | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ                       |
| -------------------------- | -------------------------------------- | ------------ | ------------------------------ |
| `formId`                   | `string`                               | -            | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π.** ID —Ñ–æ—Ä–º—ã     |
| `name`                     | `string`                               | -            | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π.** –ò–º—è –ø–æ–ª—è     |
| `label`                    | `string`                               | -            | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π.** –ü–æ–¥–ø–∏—Å—å –ø–æ–ª—è |
| `options`                  | `Option[]`                             | -            | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ü–∏–∏              |
| `loadOptions`              | `(query: string) => Promise<Option[]>` | -            | –§—É–Ω–∫—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏   |
| `multiple`                 | `boolean`                              | `false`      | –†–µ–∂–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞    |
| `placeholder`              | `boolean \| string`                    | `true`       | –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä                    |
| `required`                 | `boolean`                              | `true`       | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ              |
| `disabled`                 | `boolean`                              | `false`      | –û—Ç–∫–ª—é—á–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ          |
| `className`                | `string`                               | `''`         | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã      |
| `validator`                | `Function`                             | -            | –§—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏              |
| `initialValue`             | `string \| string[]`                   | `''`         | –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ             |
| `visibleCount`             | `number`                               | `Infinity`   | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–∏–º—ã—Ö –æ–ø—Ü–∏–π       |
| `hideInput`                | `boolean`                              | `false`      | –°–∫—Ä—ã—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞              |
| `debounceMs`               | `number`                               | `250`        | –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ–∏—Å–∫–∞ (–º—Å)           |
| `hideErrorOnFocus`         | `boolean`                              | `true`       | –°–∫—Ä—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ     |
| `icon`                     | `string`                               | -            | –ò–∫–æ–Ω–∫–∞ –¥–ª—è –ø–æ–ª—è                |
| `maxVisibleItems`          | `number`                               | `3`          | –ú–∞–∫—Å. –≤–∏–¥–∏–º—ã—Ö —Ç–µ–≥–æ–≤ (multiple) |
| `allowBackspaceDelete`     | `boolean`                              | `false`      | –£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Backspace       |
| `hideSelectedFromDropdown` | `boolean`                              | `false`      | –°–∫—Ä—ã—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∏–∑ –¥—Ä–æ–ø–¥–∞—É–Ω–∞  |
| `hideClearButton`          | `boolean`                              | `false`      | –°–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏          |

### –¢–∏–ø—ã

```tsx
interface Option {
	label: string;
	value: string | number;
	[key: string]: any;
}

interface SelectSearchProps {
	// –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–ø—Å—ã
	formId: string;
	name: string;
	label: string;

	// –î–∞–Ω–Ω—ã–µ
	options?: Option[];
	loadOptions?: (input: string) => Promise<Option[]>;

	// –ü–æ–≤–µ–¥–µ–Ω–∏–µ
	multiple?: boolean;
	placeholder?: boolean | string;
	required?: boolean;
	disabled?: boolean;

	// –í–∞–ª–∏–¥–∞—Ü–∏—è
	validator?: ({ value, name, opts }: { value: string; name?: string; opts?: any }) => string;

	// –ù–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
	initialValue?: string | string[];

	// UI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
	className?: string;
	icon?: string;
	visibleCount?: number;
	hideInput?: boolean;
	debounceMs?: number;
	hideErrorOnFocus?: boolean;

	// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
	maxVisibleItems?: number;
	allowBackspaceDelete?: boolean;
	hideSelectedFromDropdown?: boolean;
	hideClearButton?: boolean;
}
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü—Ä–æ—Å—Ç–æ–π —Å–µ–ª–µ–∫—Ç —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

```tsx
const validator = ({ value }) => {
	if (!value) return '–ü–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è';
	return '';
};

<SelectSearch
	formId='form'
	name='country'
	label='–°—Ç—Ä–∞–Ω–∞'
	options={countries}
	validator={validator}
	required={true}
/>;
```

### 2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

```tsx
<SelectSearch
	formId='form'
	name='skills'
	label='–ù–∞–≤—ã–∫–∏'
	options={skills}
	multiple={true}
	maxVisibleItems={2}
	allowBackspaceDelete={true}
	hideSelectedFromDropdown={true}
	placeholder='–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–≤—ã–∫–∏...'
/>
```

### 3. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```tsx
const searchUsers = async (query: string) => {
	if (!query.trim()) return [];

	const response = await fetch(`/api/users/search?q=${encodeURIComponent(query)}`);
	const users = await response.json();

	return users.map((user) => ({
		label: `${user.name} (${user.email})`,
		value: user.id,
		avatar: user.avatar,
	}));
};

<SelectSearch
	formId='form'
	name='assignee'
	label='–ù–∞–∑–Ω–∞—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'
	loadOptions={searchUsers}
	debounceMs={500}
	visibleCount={8}
	placeholder='–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∏–º—è...'
/>;
```

### 4. –°–µ–ª–µ–∫—Ç –±–µ–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞ (—Ç–æ–ª—å–∫–æ –∫–ª–∏–∫)

```tsx
<SelectSearch
	formId='form'
	name='status'
	label='–°—Ç–∞—Ç—É—Å'
	options={statusOptions}
	hideInput={true}
	placeholder='–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å'
/>
```

### 5. –°–µ–ª–µ–∫—Ç —Å –∏–∫–æ–Ω–∫–æ–π –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏

```tsx
<SelectSearch
	formId='form'
	name='category'
	label='–ö–∞—Ç–µ–≥–æ—Ä–∏—è'
	options={categories}
	icon='üìÅ'
	className='custom-select'
	placeholder='–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é'
/>
```

## üé£ –•—É–∫–∏

### useSelectExternalControl

–•—É–∫ –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º:

```tsx
import { useSelectExternalControl } from 'wma-form';

function MyComponent() {
	const {
		// –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
		selectByValue,
		clearAll,
		openDropdown,
		closeDropdown,
		setSearchQuery,

		// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
		getSelectedValues,
		getSelectedCount,
		hasSelectedValues,
		getFieldState,
		isOptionSelected,

		// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º
		focusField,
		blurField,

		// –í–∞–ª–∏–¥–∞—Ü–∏—è
		validateField,
		markAsTouched,

		// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
		selectMultiple,
		removeOption,
		getCurrentQuery,
		isDropdownOpen,
	} = useSelectExternalControl({
		formId: 'my-form',
		name: 'my-select',
		multiple: false,
		options: myOptions,
	});

	return (
		<div>
			<SelectSearch
				formId='my-form'
				name='my-select'
				label='My Select'
				options={myOptions}
			/>

			<button onClick={() => selectByValue('js')}>–í—ã–±—Ä–∞—Ç—å JavaScript</button>
			<button onClick={() => clearAll()}>–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
		</div>
	);
}
```

### –î—Ä—É–≥–∏–µ —Ö—É–∫–∏

```tsx
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ–ª—è
import { useSelectStoreField } from './hooks/useSelectStoreField';

// –ó–∞–≥—Ä—É–∑–∫–∞ –æ–ø—Ü–∏–π
import { useOptionsLoader } from './hooks/useOptionsLoader';

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—Ä–æ–ø–¥–∞—É–Ω–æ–º
import { useDropdownManager } from './hooks/useDropdownManager';

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
import { useSelectHandlers } from './hooks/useSelectHandlers';

// –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥—Ä–æ–ø–¥–∞—É–Ω–∞
import { useDropdownPosition } from './hooks/useDropdownPosition';

// –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
import { useSelectAccessibility } from './hooks/useSelectAccessibility';
```

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏:

```css
:root {
	/* –¶–≤–µ—Ç–∞ –¥—Ä–æ–ø–¥–∞—É–Ω–∞ */
	--background-color-select-search-dropdown: #ffffff;
	--border-color-select-search-dropdown: #e0e0e0;
	--color-select-search-dropdown-option: #333333;
	--color-select-search-dropdown-option-selected: #1976d2;

	/* –¶–≤–µ—Ç–∞ —Ç–µ–≥–æ–≤ */
	--background-color-select-search-dropdown-tag: #1976d2;
	--color-select-search-dropdown-tag: #ffffff;

	/* –†–∞–∑–º–µ—Ä—ã */
	--font-size-option: 14px;
	--font-size-tag: 14px;
	--radius-select-search-dropdown: 8px;

	/* –û—Ç—Å—Ç—É–ø—ã */
	--padding-select-search-dropdown-item-option-TB: 12px;
	--padding-select-search-dropdown-item-option-LR: 16px;
}
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏

```css
.my-custom-select .dropdown {
	border-radius: 12px;
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.my-custom-select .selected-tag {
	background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
	color: white;
}

.my-custom-select .dropdown-option:hover {
	background-color: #f0f8ff;
	transform: translateX(4px);
	transition: all 0.2s ease;
}
```

## üîß –í–Ω–µ—à–Ω–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –≤—ã–±–æ—Ä –æ–ø—Ü–∏–π

```tsx
const { selectByValue, getSelectedValues } = useSelectExternalControl({
	formId: 'form',
	name: 'select',
	options: myOptions,
});

// –í—ã–±—Ä–∞—Ç—å –æ–ø—Ü–∏—é
selectByValue('js');

// –ü–æ–ª—É—á–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
const selected = getSelectedValues();
console.log(selected); // ['js'] –∏–ª–∏ 'js'
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—Ä–æ–ø–¥–∞—É–Ω–æ–º

```tsx
const { openDropdown, closeDropdown, isDropdownOpen } = useSelectExternalControl({
	formId: 'form',
	name: 'select',
	options: myOptions,
});

// –û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –¥—Ä–æ–ø–¥–∞—É–Ω
openDropdown();
closeDropdown();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
if (isDropdownOpen()) {
	console.log('–î—Ä–æ–ø–¥–∞—É–Ω –æ—Ç–∫—Ä—ã—Ç');
}
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–æ–º

```tsx
const { setSearchQuery, getCurrentQuery } = useSelectExternalControl({
	formId: 'form',
	name: 'select',
	options: myOptions,
});

// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
setSearchQuery('javascript');

// –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∑–∞–ø—Ä–æ—Å
const query = getCurrentQuery();
```

## üèÜ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```tsx
// ‚úÖ –•–æ—Ä–æ—à–æ: –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –æ–ø—Ü–∏–π
const memoizedOptions = useMemo(() =>
  users.map(user => ({
    label: user.name,
    value: user.id
  })), [users]
);

// ‚úÖ –•–æ—Ä–æ—à–æ: –î–µ–±–∞—É–Ω—Å –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
<SelectSearch
  loadOptions={searchUsers}
  debounceMs={300} // –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
/>

// ‚ùå –ü–ª–æ—Ö–æ: –°–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã
<SelectSearch
  loadOptions={searchUsers}
  debounceMs={50} // –°–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ
/>
```

### 2. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

```tsx
// ‚úÖ –•–æ—Ä–æ—à–æ: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –ª–µ–π–±–ª—ã
<SelectSearch
	label='–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è'
	name='country'
	required={true}
/>;

// ‚úÖ –•–æ—Ä–æ—à–æ: –í–∞–ª–∏–¥–∞—Ü–∏—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
const validator = ({ value }) => {
	if (!value) return '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É';
	return '';
};
```

### 3. UX

```tsx
// ‚úÖ –•–æ—Ä–æ—à–æ: –ü–æ–Ω—è—Ç–Ω—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã
<SelectSearch
  placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞..."
  multiple={false}
/>

// ‚úÖ –•–æ—Ä–æ—à–æ: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–∏–¥–∏–º—ã—Ö –æ–ø—Ü–∏–π
<SelectSearch
  visibleCount={10}
  loadOptions={searchCities}
/>

// ‚úÖ –•–æ—Ä–æ—à–æ: –°–∫—Ä—ã—Ç–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –≤—ã–±–æ—Ä–µ
<SelectSearch
  multiple={true}
  hideSelectedFromDropdown={true}
  maxVisibleItems={3}
/>
```

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```tsx
const loadOptions = async (query: string) => {
	try {
		const response = await fetch(`/api/search?q=${query}`);
		if (!response.ok) {
			throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö');
		}
		return await response.json();
	} catch (error) {
		console.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞:', error);
		return []; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ
	}
};
```

## üêõ Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –î—Ä–æ–ø–¥–∞—É–Ω –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

```tsx
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —É–∫–∞–∑–∞–Ω formId
<SelectSearch name="select" label="Select" />

// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –£–∫–∞–∑–∞—Ç—å formId
<SelectSearch formId="my-form" name="select" label="Select" />
```

#### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```tsx
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –í–∞–ª–∏–¥–∞—Ç–æ—Ä –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
<SelectSearch
  formId="form"
  name="select"
  label="Select"
  validator={validator}
  required={false} // –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
/>

// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –í–∫–ª—é—á–∏—Ç—å required
<SelectSearch
  formId="form"
  name="select"
  label="Select"
  validator={validator}
  required={true}
/>
```

#### 3. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```tsx
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏
const loadOptions = (query) => {
	return fetch(`/api/search?q=${query}`); // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise<Response>
};

// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞
const loadOptions = async (query: string) => {
	const response = await fetch(`/api/search?q=${query}`);
	const data = await response.json();
	return data.map((item) => ({
		label: item.name,
		value: item.id,
	}));
};
```

#### 4. –°—Ç–∏–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

```tsx
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: CSS –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
import { SelectSearch } from 'wma-form';

// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏
import { SelectSearch } from 'wma-form';
import 'wma-form/dist/index.css';
```

#### 5. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```tsx
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —É–∫–∞–∑–∞–Ω multiple
<SelectSearch
  formId="form"
  name="select"
  label="Select"
  options={options}
  // multiple –Ω–µ —É–∫–∞–∑–∞–Ω
/>

// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –Ø–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å multiple
<SelectSearch
  formId="form"
  name="select"
  label="Select"
  options={options}
  multiple={true}
/>
```

### –û—Ç–ª–∞–¥–∫–∞

```tsx
// –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
const { getFieldState, getSelectedValues } = useSelectExternalControl({
	formId: 'form',
	name: 'select',
	options: myOptions,
});

// –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
useEffect(() => {
	console.log('Field state:', getFieldState());
	console.log('Selected values:', getSelectedValues());
}, [getFieldState, getSelectedValues]);
```

## üìù Changelog

### v1.0.0

-   –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑
-   –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
-   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
-   –í–Ω–µ—à–Ω–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ö—É–∫–∏
-   –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
-   –ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—ã–µ —Å—Ç–∏–ª–∏

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [Troubleshooting](#troubleshooting)
2. –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ [Stories](./src/stories/SelectSearch/)
3. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
